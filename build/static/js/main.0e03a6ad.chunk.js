(this.webpackJsonpsagarmatha_web=this.webpackJsonpsagarmatha_web||[]).push([[0],{130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),o=a(45),s=a(2),i=a(3),m=a(1),u=a(4),d=a(5),h=a(6),p=a(7),g=a(8),b=function(e){var t=e.enabledLabel||"submit",a=e.disabledLabel||"submitting...";return e.isSubmitting?r.a.createElement("button",{disabled:!0,className:"btn btn-info"},a):r.a.createElement("button",{disabled:!e.isValidForm,type:"submit",className:"btn btn-primary"},t)},E=a(19);var f={showInfo:function(e){E.b.info(e)},showSuccess:function(e){E.b.success(e)},showWarning:function(e){E.b.warning(e)},handleError:function(e){var t,a="Something Went Wrong",n=e.response;n&&n.data&&(a=n.data.msg),t=a,E.b.error(t)}},v=a(69),y="https://demo-ecommercev1-api.herokuapp.com/api",S=a.n(v).a.create({baseURL:y,responseType:"json"});function C(e){var t={"Content-Type":"application/json"};return e&&(t.Authorization=localStorage.getItem("token")),t}var N=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return S.post(e,t,{headers:C(a)})},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return S.get(e,{headers:C(t),params:a})},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return S.delete(e,{headers:C(t)})},P=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return new Promise((function(r,l){var c=new XMLHttpRequest,o=new FormData;for(var s in n.length&&o.append("image",n[0],n[0].name),a)o.append(s,a[s]);c.onreadystatechange=function(){4===c.readyState&&(200===c.status?r(c.response):l(c.response))},c.open(e,"".concat(y,"/").concat(t,"?token=").concat(localStorage.getItem("token")),!0),c.send(o)}))},k={username:"",password:""},w=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,r=a.value,l=a.checked;if("checkbox"===a.type)return r=l,e.setState(Object(u.a)({},n,r));e.setState((function(e){return{data:Object(m.a)({},e.data,Object(u.a)({},n,r))}}),(function(){e.validateForm(n)}))},e.validateForm=function(t){var a=e.state.data[t]?"":"".concat(t," is required");e.setState((function(e){return{error:Object(m.a)({},e.error,Object(u.a)({},t,a))}}),(function(){var t=Object.values(e.state.error).filter((function(e){return e}));e.setState({isValidForm:0===t.length})}))},e.handleSubmit=function(t){t.preventDefault(),e.setState({isSubmitting:!0}),N("/auth/login",e.state.data,null).then((function(t){f.showSuccess("Welcome ".concat(t.data.user.username)),localStorage.setItem("user",JSON.stringify(t.data.user)),localStorage.setItem("token",t.data.token),localStorage.setItem("remember_me",e.state.remember_me),e.props.history.push("/dashboard")})).catch((function(t){f.handleError(t),e.setState({isSubmitting:!1})}))},e.state={data:Object(m.a)({},k),error:Object(m.a)({},k),remember_me:!1,isSubmitting:!1,isValidForm:!1},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){"true"===localStorage.getItem("remember_me")&&this.props.history.push("/home/dashboard")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Login"),r.a.createElement("p",null,"Please Login to start your session"),r.a.createElement("form",{className:"form-group",onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{className:"form-control",type:"text",placeholder:"Username",id:"username",name:"username",onChange:this.handleChange}),r.a.createElement("p",{className:"error"},this.state.error.username),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:"form-control",type:"password",placeholder:"Password",id:"password",name:"password",onChange:this.handleChange}),r.a.createElement("p",{className:"error"},this.state.error.password),r.a.createElement("input",{type:"checkbox",name:"remember_me",onChange:this.handleChange}),r.a.createElement("label",null,"Remeber Me"),r.a.createElement("br",null),r.a.createElement(b,{isSubmitting:this.state.isSubmitting,isValidForm:this.state.isValidForm,enabledLabel:"Login",disabledLabel:"Logingin..."})),r.a.createElement("p",null,"Don't have an account?"),r.a.createElement("p",null,"Register ",r.a.createElement(i.b,{to:"/register"},"here")))}}]),a}(r.a.Component),D={name:"",email:"",address:"",phoneNumber:"",username:"",password:"",confirmPassword:""},_=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault(),e.setState({isSubmitting:!0}),N("/auth/register",e.state.data).then((function(t){e.props.history.push("/"),f.showInfo("Registration sucessfull please login")})).catch((function(t){f.handleError(t),e.setState({isSubmitting:!1})}))},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{data:Object(m.a)({},e.data,Object(u.a)({},n,r))}}),(function(){e.validateForm(n)}))},e.validateForm=function(t){var a;switch(t){case"username":a=e.state.data[t]?"":"required field*";break;case"email":a=e.state.data[t]?e.state.data[t].includes("@")&&e.state.data[t].includes(".com")?"":"Invalid Email":"required field*";break;case"password":a=e.state.data[t]?e.state.data[t].length>6?"":"weak password":"required field*";break;case"confirmPassword":a=e.state.data[t]?e.state.data[t]===e.state.data.password?"":"Password didnot match":"required field*"}e.setState((function(e){return{error:Object(m.a)({},e.error,Object(u.a)({},t,a))}}),(function(){var t=Object.values(e.state.error).filter((function(e){return e}));e.setState({isValidForm:0===t.length})}))},e.state={data:Object(m.a)({},D),error:Object(m.a)({},D),isSubmitting:!1,isValidForm:!1},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Register"),r.a.createElement("p",null,"Please Register to continue"),r.a.createElement("form",{className:"form-group",onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"Name",onChange:this.handleChange}),r.a.createElement("label",null,"Address"),r.a.createElement("input",{type:"text",className:"form-control",name:"address",placeholder:"Address",onChange:this.handleChange}),r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"text",className:"form-control",name:"email",placeholder:"Email",onChange:this.handleChange}),r.a.createElement("p",{className:"error"},this.state.error.email),"                    ",r.a.createElement("label",null,"Phone Number"),r.a.createElement("input",{type:"number",className:"form-control",name:"phoneNumber",onChange:this.handleChange}),r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",placeholder:"Username",onChange:this.handleChange}),r.a.createElement("p",{className:"error"},this.state.error.username),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"text",className:"form-control",name:"password",placeholder:"Password",onChange:this.handleChange}),r.a.createElement("p",{className:"error"},this.state.error.password),r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"text",className:"form-control",name:"confirmPassword",placeholder:"Confirm Password",onChange:this.handleChange}),r.a.createElement("p",{className:"error"},this.state.error.confirmPassword),r.a.createElement("br",null),r.a.createElement(b,{isSubmitting:this.state.isSubmitting,isValidForm:this.state.isValidForm})),r.a.createElement("p",null," Already Registered?"),r.a.createElement("p",null,"Back to ",r.a.createElement(i.b,{to:"/"},"login")))}}]),a}(n.Component),x=(a(99),Object(s.g)((function(e){return e.isLoggedIn?r.a.createElement("ul",{className:"nav_list"},r.a.createElement("li",{className:"nav_item"},r.a.createElement(i.b,{to:"/dashboard"},"Dashboard")),r.a.createElement("li",{className:"nav_item"},r.a.createElement(i.b,{to:"/profile"},"Profile")),r.a.createElement("li",{className:"nav_item"},r.a.createElement("button",{className:"btn btn-success logout",onClick:function(){return t=e.history,localStorage.clear(),void t.push("/");var t}},"Logout"))):r.a.createElement("ul",{className:"nav_list"},r.a.createElement("li",{className:"nav_item"},r.a.createElement(i.b,{to:"/"},"Login")),r.a.createElement("li",{className:"nav_item"},r.a.createElement(i.b,{to:"/home"},"Home")),r.a.createElement("li",{className:"nav_item"},r.a.createElement(i.b,{to:"/about"},"About")),r.a.createElement("li",{className:"nav_item"},r.a.createElement(i.b,{to:"/contacts"},"Contact")))}))),I=a(70),F=(a(130),function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState((function(e){return{messageBody:Object(m.a)({},e.messageBody,Object(u.a)({},n,r))}}))},e.send=function(t){t.preventDefault();var a=e.state.messageBody;e.socket.emit("new-message",a)},e.state={messageBody:{senderName:"",senderId:"",receiverId:"",receiverName:"",time:"",message:""},messages:[]},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.socket=I("http://localhost:8081"),this.runSocket()}},{key:"runSocket",value:function(){var e=this;this.socket.on("hi",(function(t){console.log("message from server >",t),e.socket.emit("hello","from client")})),this.socket.on("reply-msg",(function(t){var a=e.state.messages;a.push(t),e.setState({messages:a})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Let's Chat"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("ins",null,"Messages"),r.a.createElement("div",{className:"message_box"},this.state.messages.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e.message),r.a.createElement("p",null,e.senderName),r.a.createElement("small",null,e.time))}))),r.a.createElement("form",{className:"form-group",onSubmit:this.send},r.a.createElement("input",{type:"text",className:"form-control",onChange:this.handleChange,placeholder:"Your Message here...",name:"message"}),r.a.createElement("button",{className:"btn btn-success",type:"submit"},"send"))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("ins",null,"Users"),r.a.createElement("div",{className:"message_box"}))))}}]),a}(n.Component)),V=(a(131),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{to:"/dashboard"},"Dashboard"),r.a.createElement(i.b,{to:"/add_product"},"Add Product"),r.a.createElement(i.b,{to:"/view_product"},"View Product"),r.a.createElement(i.b,{to:"/search_product"},"Search Product"),r.a.createElement(i.b,{to:"/chat"},"Messages"))}),L={name:"",description:"",brand:"",category:"",price:"",color:"",modelNo:"",discountedItem:"",discountType:"",discountValue:"",tags:"",manuDate:"",expiryDate:""},T=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault(),e.props.submitCallback(e.state.data,e.state.filesToUpload)},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value,l=a.type,c=a.checked,o=a.files;if("checkbox"===l&&(r=c),"file"===l)return e.setState({filesToUpload:o});e.setState((function(e){return{data:Object(m.a)({},e.data,Object(u.a)({},n,r))}}),(function(){e.validateForm(n)}))},e.validateForm=function(t){var a;switch(t){case"category":a=e.state.data[t]?"":"required field*"}e.setState((function(e){return{error:Object(m.a)({},e.error,Object(u.a)({},t,a))}}),(function(){var t=Object.values(e.state.error).filter((function(e){return e}));e.setState({isValidForm:0===t.length})}))},e.state={data:Object(m.a)({},L),error:Object(m.a)({},L),filesToUpload:[],isValidForm:!1},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.product&&this.setState({data:Object(m.a)({},L,{},this.props.product,{discountedItem:this.props.product.discount?this.props.product.discount.discountedItem:"",discountType:this.props.product.discount?this.props.product.discount.discountType:"",discountValue:this.props.product.discount?this.props.product.discount.discountValue:""})})}},{key:"render",value:function(){var e,t=this.state.data.discountedItem?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Discount Type"),r.a.createElement("select",(e={name:"discountType",className:"form-control",value:this.state.data.discountType},Object(u.a)(e,"value",this.state.data.discountType),Object(u.a)(e,"onChange",this.handleChange),e),r.a.createElement("option",{disabled:!0,value:""},"(Select Type)"),r.a.createElement("option",{value:"percentage"},"Percentage"),r.a.createElement("option",{value:"quantity"}," Quantity"),r.a.createElement("option",{value:"value"},"Value")),r.a.createElement("label",null,"Discount Value"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.data.discountValue,name:"discountValue",placeholder:"Discount Value",onChange:this.handleChange})):null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,this.props.title),r.a.createElement("form",{className:"form-group",onSubmit:this.handleSubmit,noValidate:!0},r.a.createElement("label",null,"Name"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.data.name,name:"name",placeholder:"Name",onChange:this.handleChange}),r.a.createElement("label",null,"Description"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.data.description,name:"description",placeholder:"Description",onChange:this.handleChange}),r.a.createElement("label",null,"Category"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.data.category,name:"category",placeholder:"Category",onChange:this.handleChange}),r.a.createElement("p",{className:"error"},this.state.error.category),r.a.createElement("label",null,"Brand"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.data.brand,name:"brand",placeholder:"Brand",onChange:this.handleChange}),r.a.createElement("label",null,"Price"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.data.price,name:"price",placeholder:"Price",onChange:this.handleChange}),r.a.createElement("label",null,"Color"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.data.color,name:"color",placeholder:"Color",onChange:this.handleChange}),r.a.createElement("label",null,"Model No"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.data.modelNo,name:"modelNo",placeholder:"Model No",onChange:this.handleChange}),r.a.createElement("input",{type:"checkbox",name:"discountedItem",checked:this.state.data.discountedItem,onChange:this.handleChange}),r.a.createElement("label",null,"Discounted Item"),r.a.createElement("br",null),t,r.a.createElement("label",null,"Manu Date"),r.a.createElement("input",{type:"date",className:"form-control",value:this.state.data.manuDate,name:"manuDate",onChange:this.handleChange}),r.a.createElement("label",null,"Expiry Date"),r.a.createElement("input",{type:"date",className:"form-control",value:this.state.data.expiryDate,name:"expiryDate",onChange:this.handleChange}),r.a.createElement("label",null,"Tags"),r.a.createElement("input",{type:"text",className:"form-control",value:this.state.data.tags,name:"tags",placeholder:"Tags",onChange:this.handleChange}),this.props.product&&this.props.product.images&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Previous Image"),r.a.createElement("br",null),r.a.createElement("img",{src:"".concat("https://demo-ecommercev1-api.herokuapp.com/file/images","/").concat(this.props.product.images[0]),alt:"product_img.png",width:"600px"}),r.a.createElement("br",null)),r.a.createElement("label",null,"Choose Image"),r.a.createElement("br",null),r.a.createElement("input",{type:"file",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(b,{isValidForm:this.state.isValidForm,isSubmitting:this.props.isSubmitting})))}}]),a}(n.Component),R=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).add=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.setState({isSubmitting:!0}),P("POST","/product",t,a).then((function(t){f.showInfo("Product Added successfully"),e.props.history.push("view_product")})).catch((function(t){f.handleError(t),e.setState({isSubmitting:!1})}))},e.state={isSubmitting:!1},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement(T,{title:"Add Product",submitCallback:this.add,isSubmitting:this.state.isSubmitting})}}]),a}(n.Component),M=(a(132),function(e){return r.a.createElement("div",{className:"loader"})}),U=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).edit=function(t,a){e.setState({isSubmitting:!0});var n=Object(m.a)({},t,{vendor:Object.keys(t.vendor).length&&t.vendor._id});P("PUT","/product/".concat(n._id),n,a).then((function(t){f.showInfo("Product Updated Successfully"),e.props.history.push("/view_product")})).catch((function(t){f.handleError(t),e.setState({isSubmitting:!1})}))},e.state={isLoading:!1,isSubmitting:!1,product:{}},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});var t=this.props.match.params.id;O("/product/".concat(t),!0).then((function(t){e.setState({product:t.data})})).catch((function(e){f.handleError(e)})).finally((function(){e.setState({isLoading:!1})}))}},{key:"render",value:function(){return this.state.isLoading?r.a.createElement(M,null):r.a.createElement(T,{isSubmitting:this.state.isSubmitting,submitCallback:this.edit,product:this.state.product,title:"Edit Product"})}}]),a}(n.Component),A=a(43),B=a.n(A);var q={formatDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY/MM/DD";return B()(e).format(t)},formatTime:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hh:mm a";return B()(e).format(t)}},Y=function(e){return{type:"SET_IS_LOADING",payload:e}},W=a(31),G=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).edit=function(t){e.props.history.push("edit_product/".concat(t))},e.changePageNumber=function(t){var a=e.props.currentPage;"next"===t?a+=1:a-=1,e.props.setPageNumber(a),e.props.fetch(a,e.props.perPage)},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){console.log("check props in view product >>",this.props),this.props.incomingProducts?this.setState({products:this.props.incomingProducts}):this.props.fetch(this.props.currentPage,this.props.perPage)}},{key:"remove",value:function(e,t){window.confirm("Are you sure to remove?")&&this.props.remove(e)}},{key:"render",value:function(){var e=this,t=this.props.isLoading?r.a.createElement(M,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"S.N"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Category"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Created Date"),r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.props.products.map((function(t,a){return r.a.createElement("tr",{key:t._id},r.a.createElement("td",null,a+1),r.a.createElement("td",null,r.a.createElement(i.b,{to:"/product_details/".concat(t._id)},t.name)," "),r.a.createElement("td",null,t.category),r.a.createElement("td",null,t.price),r.a.createElement("td",null,q.formatDate(t.createdAt,"ddd YYYY/MM/DD")),r.a.createElement("td",null,r.a.createElement("img",{src:"".concat("https://demo-ecommercev1-api.herokuapp.com/file/images","/").concat(t.images[0]),alt:"image.png",width:"200px"})),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.edit(t._id)},className:"btn btn-info"},"edit"),r.a.createElement("button",{onClick:function(){return e.remove(t._id,a)},className:"btn btn-danger"},"delete")))})))),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.changePageNumber()}},"Previous"),r.a.createElement("button",{className:"btn btn-success",onClick:function(){return e.changePageNumber("next")}},"Next"));return r.a.createElement("div",null,r.a.createElement("h2",null,"View Product"),this.props.incomingProducts&&r.a.createElement("button",{className:"btn btn-success",onClick:this.props.resetSearch},"search again"),t)}}]),a}(n.Component),J=Object(W.b)((function(e){return{isLoading:e.product.isLoading,products:e.product.products,perPage:e.product.perPage,currentPage:e.product.currentPage}}),(function(e){return{fetch:function(t,a){return e((n={currentPage:t,perPage:a},function(e){console.log("params >>",n),console.log("here at action"),e(Y(!0)),O("/product",!0,n).then((function(t){e({type:"PRODUCT_RECEIVED",payload:t.data})})).catch((function(e){f.handleError(e)})).finally((function(){e(Y(!1))}))}));var n},remove:function(t){return e(function(e){return function(t,a){var n=a().product;n.products.forEach((function(t,a){t._id===e&&n.products.splice(a,1)})),j("/product/".concat(e),!0).then((function(e){t({type:"PRODUCT_REMOVED",payload:n.products})})).catch((function(e){f.handleError(e)})).finally((function(){}))}}(t))},setPageNumber:function(t){return e(function(e){return function(t){t({type:"SET_PAGE_NUMBER",payload:e})}}(t))}}}))(G),H={category:"",name:"",brand:"",minPrice:"",maxPrice:"",fromDate:"",multipleDateRange:"",toDate:"",tags:"",discountedItem:""},z=function(e){Object(g.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=t.target,n=a.name,r=a.value,l=a.checked;"checkbox"===a.type&&(r=l),"category"===n&&e.prepareNames(r),e.setState((function(e){return{data:Object(m.a)({},e.data,Object(u.a)({},n,r))}}))},e.prepareNames=function(t){var a=e.state.allProducts.filter((function(e,a){if(e.category===t)return!0}));e.setState({names:a})},e.handleSubmit=function(t){t.preventDefault(),e.setState({isSubmitting:!0}),N("/product/search",e.state.data).then((function(t){t.data.length||f.showInfo("No any Products matched your search query"),e.setState({searchResults:t.data})})).catch((function(e){f.handleError(e)})).finally((function(){e.setState({isSubmitting:!1})}))},e.resetSearch=function(){e.setState({searchResults:[]})},e.state={data:Object(m.a)({},H),error:Object(m.a)({},H),isSubmitting:!1,isValidForm:!0,isLoading:!1,categories:[],allProducts:[],names:[],searchResults:[]},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),N("/product/search",{}).then((function(t){var a=[];t.data.forEach((function(e,t){-1===a.indexOf(e.category)&&a.push(e.category)})),e.setState({categories:a,allProducts:t.data})})).catch((function(e){f.handleError(e)})).finally((function(){e.setState({isLoading:!1})}))}},{key:"render",value:function(){return this.state.searchResults.length?r.a.createElement(J,{incomingProducts:this.state.searchResults,resetSearch:this.resetSearch}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Search Product"),r.a.createElement("form",{className:"form-group",onSubmit:this.handleSubmit},r.a.createElement("label",null,"Category"),r.a.createElement("select",{name:"category",value:this.state.data.category||"",className:"form-control",onChange:this.handleChange},r.a.createElement("option",{disabled:!0,value:""},"(Select Category)"),this.state.categories.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),this.state.data.category&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Name"),r.a.createElement("select",{name:"name",value:this.state.data.name||"",className:"form-control",onChange:this.handleChange},r.a.createElement("option",{disabled:!0,value:""},"(Select Name)"),this.state.names.map((function(e,t){return r.a.createElement("option",{key:t,value:e.name},e.name)})))),r.a.createElement("label",null,"Min Price"),r.a.createElement("input",{type:"number",className:"form-control",name:"minPrice",onChange:this.handleChange}),r.a.createElement("label",null,"Max Price"),r.a.createElement("input",{type:"number",className:"form-control",name:"maxPrice",onChange:this.handleChange}),r.a.createElement("label",null,"Select Date"),r.a.createElement("input",{type:"date",className:"form-control",name:"fromDate",onChange:this.handleChange}),r.a.createElement("input",{type:"checkbox",name:"multipleDateRange",onChange:this.handleChange}),r.a.createElement("label",null,"Multiple Date Range"),r.a.createElement("br",null),this.state.data.multipleDateRange&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"To Date"),r.a.createElement("input",{type:"date",className:"form-control",name:"toDate",onChange:this.handleChange})),r.a.createElement("label",null,"Tags"),r.a.createElement("input",{type:"string",className:"form-control",name:"tags",onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(b,{isSubmitting:this.state.isSubmitting,isValidForm:this.state.isValidForm})))}}]),a}(n.Component),Q=function(e){return r.a.createElement(z,null)},X=function(e){return r.a.createElement("p",null,"Welcome!, Please use side navigation menu or contact system administrator for support")},K=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Not Found"),r.a.createElement("img",{src:"images/download.jpeg",width:"600px",alt:"notfound.png"}))},Z=function(e){var t=e.component,a=Object(o.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return localStorage.getItem("token")?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nav_bar"},r.a.createElement(x,{isLoggedIn:!0})),r.a.createElement("div",{className:"side_bar"},r.a.createElement(V,{isLoggedIn:!0})),r.a.createElement("div",{className:"main_content"},r.a.createElement(t,e))):r.a.createElement(s.a,{to:"/"})}}))},$=function(e){var t=e.component,a=Object(o.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"nav_bar"},r.a.createElement(x,{isLoggedIn:!!localStorage.getItem("token")})),r.a.createElement("div",{className:"main_content"},r.a.createElement(t,e)))}}))},ee=function(e){return r.a.createElement(i.a,null,r.a.createElement(s.d,null,r.a.createElement($,{exact:!0,path:"/",component:w}),r.a.createElement($,{path:"/register",component:_}),r.a.createElement($,{exact:!0,path:"/home",component:Q}),r.a.createElement(Z,{exact:!0,path:"/dashboard",component:X}),r.a.createElement(Z,{path:"/add_product",component:R}),r.a.createElement(Z,{path:"/view_product",component:J}),r.a.createElement(Z,{path:"/edit_product/:id",component:U}),r.a.createElement(Z,{path:"/search_product",component:z}),r.a.createElement(Z,{path:"/chat",component:F}),r.a.createElement($,{component:K})))},te=a(18),ae=a(72),ne=a(73),re={isLoading:!1,products:[],currentPage:1,perPage:10},le=Object(te.c)({product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(console.log("here at reducer",t),t.type){case"SET_IS_LOADING":return Object(m.a)({},e,{isLoading:t.payload});case"PRODUCT_RECEIVED":return Object(m.a)({},e,{products:t.payload});case"PRODUCT_REMOVED":return Object(m.a)({},e,{products:Object(ne.a)(t.payload)});case"SET_PAGE_NUMBER":return Object(m.a)({},e,{currentPage:t.payload});default:return Object(m.a)({},e)}}}),ce=[ae.a],oe=Object(te.d)(le,{},te.a.apply(void 0,ce)),se=(a(135),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{store:oe},r.a.createElement(ee,null)),r.a.createElement(E.a,null))});c.a.render(r.a.createElement(se,null),document.getElementById("root"))},74:function(e,t,a){e.exports=a(136)},99:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.0e03a6ad.chunk.js.map